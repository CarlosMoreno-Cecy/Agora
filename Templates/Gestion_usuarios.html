<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Usuarios</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="../Assets/CSS/contactos.css">
    <style>
        .estado-circle {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-section">
            <br>
            <h2 style="font-weight: 600; margin: 40px 0; font-size: 1.5rem;">Gestión de Usuarios</h2>
        </div>
        <div class="filter-container mb-3 d-flex flex-wrap justify-content-between align-items-center">
            <a href="../Modules/Gestion_Usuarios/crear_usuario.php" class="btn btn-primary mb-2" id="addUser"><i class="fas fa-user-plus"></i> Crear Usuario</a>
        </div>
        <div class="table-responsive">
            <table id="usuariosTable" class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Email</th>
                        <th>Nombre Completo</th>
                        <th>Estado</th>
                        <th>Tipo de Usuario</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Datos dinámicos -->
                </tbody>
            </table>
        </div>
    </div>
        <!-- Editar usuario -->
    <center>
        <div id="editarU" class="overlay">
            <div class="popup">
                <h2>Edición de Datos</h2>
                <form id="formE">
                    <input type="hidden" id="id_usuario" name="id_usuario">
                    <label>Email</label>
                    <input type="text" id="email" name="email" required readonly>
                    <label>Nombre Completo</label>
                    <input type="text" id="nombre" name="nombre" readonly>
                    <label for="">Estado</label>
                    <select name="estado" id="estado" class="inputt">
                        <option value="1">Activo</option>
                        <option value="2">Inactivo</option>
                    </select>
                    <label>Tipo de Usuario</label>
                    <select name="tipo" id="tipo" class="inputt">
                        <option value="1">Administrador</option>
                        <option value="2"></option>
                        <option value="3"></option>
                        <option value="4"></option>
                    </select>
                    <div>
                        <button type="button" class="btn btn-success" onclick="guardarE()">Guardar</button>
                        <button type="button" class="btn btn-secondary" onclick="cancelarE()">Cancelar</button>
                    </div>
                </form> 
            </div>
        </div>
    </center>

    <!-- Modal de confirmación de eliminación -->
<div class="modal fade" id="borrar" tabindex="-1" aria-labelledby="confirmationModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmationModalLabel">Confirmar eliminación</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body">
                ¿Estás seguro de que deseas eliminar este usuario?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-danger" id="confirmDelete">Eliminar</button>
            </div>
        </div>
    </div>
</div>

    <!-- Scripts necesarios -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="../Assets/JS/gestion_usuarios.js"></script>
</body>
</html>