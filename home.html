<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <div class="container my-4">
    <div class="row">

      <div class="col-md-3 d-flex flex-column align-items-start">
        <label for="chartType" class="mb-2">Selecciona el tipo de gráfica:</label>
        <select id="chartType" onchange="changeChartType()" class="form-select">
          <option value="line">Barras</option>
          <option value="bar">Linea</option>
          <option value="pie">Circular</option>
          <option value="radar">Radar</option>
          <option value="doughnut">Dona</option>
        </select>
      </div>


      <div class="col-md-9">
        <div style="width: 100%; height: 400px;">
          <canvas id="canvas"></canvas>
        </div>
      </div>
    </div>
  </div>

  <script>
    var canva = document.getElementById("canvas").getContext("2d");


    var chart = new Chart(canva, {
      type: "bar",
      data: {
        labels: ["Enero", "Febrero", "Marzo", "Abril", "Mayo"],
        datasets: [
          {
            label: "Alumnos inscritos",
            backgroundColor: "rgba(75, 192, 192, 0.2)",
            borderColor: "rgba(75, 192, 192, 1)",
            borderWidth: 2,
            data: [34, 54, 65, 43, 10]
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false
      }
    });

    // Función para cambiar el tipo de gráfica
    function changeChartType() {
      var chartType = document.getElementById("chartType").value;

      // Destruir la gráfica actual
      chart.destroy();

      // Crear una nueva gráfica con el tipo seleccionado
      chart = new Chart(canva, {
        type: chartType,
        data: {
          labels: ["Enero", "Febrero", "Marzo", "Abril", "Mayo"],
          datasets: [
            {
              label: "Alumnos inscritos",
              backgroundColor: chartType === "pie" || chartType === "doughnut" ? 
                ["#FF6384", "#36A2EB", "#FFCE56", "#4BC0C0", "#9966FF"] : 
                "rgba(75, 192, 192, 0.2)",
              borderColor: "rgba(75, 192, 192, 1)",
              borderWidth: 2,
              data: [34, 54, 65, 43, 10]
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false
        }
      });
    }
  </script>

</body>

</html>
